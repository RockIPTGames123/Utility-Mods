<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <startup> 
        <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5.2"/>
    </startup>
  <Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" DefaultTargets="Build">

    <!-- ...existing tags... -->

    <!-- Import environment-specific build properties for Dotfuscator, if they exist. -->
    <Import Project="$([System.Environment]::GetFolderPath(SpecialFolder.UserProfile))\.dotfuscator.user.props"
            Condition="Exists('$([System.Environment]::GetFolderPath(SpecialFolder.UserProfile))\.dotfuscator.user.props')"/>

    <!-- Set build properties for Dotfuscator. -->
    <PropertyGroup>

      <!-- Specify the location of the MSBuild targets, if not already provided. -->
      <DotfuscatorMSBuildDir Condition="'$(DotfuscatorMSBuildDir)' == ''">$(MSBuildProgramFiles32)\MSBuild\PreEmptive\Dotfuscator\6</DotfuscatorMSBuildDir>

      <!-- Generate a default Dotfuscator config file (DotfuscatorConfig.xml) if it doesn't exist. -->
      <!-- TODO: Set this to false after the file is generated by the first local build. -->
      <DotfuscatorGenerateConfigFileIfMissing>true</DotfuscatorGenerateConfigFileIfMissing>

      <!-- Enable Dotfuscator for Release builds. -->
      <DotfuscatorEnabled Condition="'$(Configuration)' == 'Release'">true</DotfuscatorEnabled>

    </PropertyGroup>

    <!-- Import the Dotfuscator MSBuild targets. Must be done last. -->
    <Import Project="$(DotfuscatorMSBuildDir)\PreEmptive.Dotfuscator.Common.targets" />

  </Project>
</configuration>
